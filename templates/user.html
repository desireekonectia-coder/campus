{% extends "base.html" %}

{% block content %}
<div class="background"></div>

<div class="perfil-container">
    
    {# Los botones ahora estÃ¡n en su propia barra con espacio debajo #}
    {% if session['rol'] == 'administrador' %}
    <div class="admin-top-bar">
        <a href="{{ url_for('registrar_usuario') }}" class="btn-panel">âž• Registro</a>
        <a href="{{ url_for('gestion_usuarios') }}" class="btn-panel">ðŸ‘¥ GestiÃ³n</a>
    </div>
    {% endif %}

    {# La tarjeta blanca ahora bajarÃ¡ gracias al margin-bottom de la barra anterior #}
    <div class="user-card">
        <h2 style="color: black; margin-top: 0;">Bienvenida, {{ usuario }}</h2>
        <hr style="border: 0; border-top: 1px solid #eee; margin-bottom: 20px;">
        <p><strong>Correo:</strong> {{ email }}</p>
        <p><strong>Rol:</strong> {{ rol }}</p>
        <br>
        <a href="{{ url_for('logout') }}" class="btn-back" style="color: #0c0ceb; font-weight: bold; text-decoration: none;">Cerrar SesiÃ³n</a>
    </div>

</div>

<section class="horario-container">
    <h3>ðŸ“… Mi Horario y Asignaturas</h3>
    
    {% if horarios %}
        <table class="tabla-horarios">
            <thead>
                <tr>
                    <th>Asignatura</th>
                    <th>DÃ­a</th>
                    <th>Inicio</th>
                    <th>Fin</th>
                </tr>
            </thead>
            <tbody>
                {% for h in horarios %}
                <tr>
                    <td><strong>{{ h.nombre_asig }}</strong></td>
                    <td>{{ h.dia_semana }}</td>
                    <td>{{ h.hora_inicio.strftime('%H:%M') }}</td>
                    <td>{{ h.hora_fin.strftime('%H:%M') }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="no-horarios">
            <p>AÃºn no tienes asignaturas o horarios asignados. Contacta con el administrador.</p>
        </div>
    {% endif %}
</section>

{% endblock %}

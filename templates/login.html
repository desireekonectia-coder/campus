{% extends "base.html" %}

{% block content %}
<div class="background"></div>

<div class="container">
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo Campus" class="logo">

    <h1>Campus Login / Registro</h1>

    {% if mensaje %}
        <p class="mensaje">{{ mensaje }}</p>
    {% endif %}

    <form method="POST">
        <div class="form-group">
            <input type="text" name="user" id="user" placeholder=" " required>
            <label>Usuario</label>
        </div>

        <div class="form-group password-group">
            <input type="password" name="password" id="password" required placeholder=" ">
            <label>Contrase√±a</label>
            <span class="toggle-password" onclick="togglePassword()" style="position: absolute; right: 10px; top: 12px; cursor: pointer;">üëÅÔ∏è</span>
        </div>

        {# Campos extra para el REGISTRO #}
        {% if mostrar_email %}
        <div class="form-group">
            <input type="email" name="email" id="email" placeholder=" " required>
            <label>Email para registro</label>
        </div>

        <div class="form-group">
            <label style="display: block; margin-bottom: 5px; color: #666;">Selecciona tu Rol:</label>
            <select name="rol" id="rol" required style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; background: white;">
                <option value="" disabled selected>Elegir rol...</option>
                <option value="admin">Administrador</option>
                <option value="usuario">Usuario</option>
            </select>
        </div>
        {% endif %}

        <button type="submit" class="btn">
            {% if mostrar_email %} Registrarse {% else %} Entrar {% endif %}
        </button>
    </form>
</div>

<script>
function togglePassword() {
    var x = document.getElementById("password");
    if (x.type === "password") {
        x.type = "text";
    } else {
        x.type = "password";
    }
}
</script>
{% endblock %}